<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>‚ú® Import Birth Chart Data to Notion</title>
  <style>
    body {
      font-family: system-ui, sans-serif;
      background: #f8f6f3;
      color: #333;
      padding: 2rem;
    }
    textarea {
      width: 100%;
      height: 200px;
      font-family: monospace;
      padding: 1rem;
      margin-bottom: 1rem;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    table {
      width: 100%;
      margin-bottom: 2rem;
      border-collapse: collapse;
    }
    th, td {
      padding: 8px;
      border: 1px solid #ccc;
      text-align: left;
    }
    h2 {
      margin-top: 2rem;
    }
  </style>
</head>
<body>
  <h1>‚ú® Paste Your Astro-Seek Chart Export</h1>
  <div class="instructions">
    <h2>ü™ê Instructions</h2>
    <ol>
      <li>Visit <a href="https://horoscopes.astro-seek.com/calculate-birth-chart-horoscope-online/" target="_blank">Astro-Seek‚Äôs Free Birth Chart Calculator</a></li>
      <li>Scroll to the section called <strong>AI-ChatGPT - Astrology Data Export</strong></li>
      <li>Copy <strong>all the text</strong> under Planet positions, House positions, and Planet aspects. Please do <strong>not</strong> include the headings for each section.</li>
      <li>Paste it in the box below and click <strong>‚ÄúParse My Birth Chart‚Äù</strong></li>
      <li>Copy the results into your Notion template</li>
    </ol>
    <p><em>This tool outputs four tables: Planetary Positions, Chart Objects, House Positions, and Aspects.</em></p>
  </div>
   <textarea id="input"></textarea>
  <br />
  <button onclick="parseChart()">Parse My Birth Chart</button>

  <div class="section">
    <h2>üåû Planetary Positions</h2>
    <table id="planet-table">
      <tr><th>Planet</th><th>Sign</th><th>Degree</th><th>House</th><th>Motion</th></tr>
    </table>
  </div>

  <div class="section">
    <h2>üçÇ Chart Objects</h2>
    <table id="object-table">
      <tr><th>Object</th><th>Sign</th><th>Degree</th><th>House</th><th>Motion</th></tr>
    </table>
  </div>

  <div class="section">
    <h2>üè† House Positions</h2>
    <table id="house-table">
      <tr><th>House</th><th>Sign</th><th>Degree</th></tr>
    </table>
  </div>

  <div class="section">
    <h2>‚ú® Aspects</h2>
    <table id="aspect-table">
      <tr><th>Aspect</th><th>Orb</th><th>Type</th></tr>
    </table>
  </div>

  <script>
    function parseChart() {
      const text = document.getElementById("input").value;
      if (!text.trim()) return;
      const planetTable = document.getElementById("planet-table");
      const objectTable = document.getElementById("object-table");
      const houseTable = document.getElementById("house-table");
      const aspectTable = document.getElementById("aspect-table");

      [planetTable, objectTable, houseTable, aspectTable].forEach(t => t.innerHTML = t.rows[0].outerHTML);

      const lines = text.split("\n").map(l => l.trim()).filter(Boolean);

      lines.forEach(line => {
        if (/^(Sun|Moon|Mercury|Venus|Mars|Jupiter|Saturn|Uranus|Neptune|Pluto)/.test(line)) {
          const [_, planet, sign, degree, house, motion] = line.match(/^(\w+) in (\w+) ([^,]+), in (\d+).*?(Retrograde)?$/) || [];
          if (planet) planetTable.innerHTML += `<tr><td>${planet}</td><td>${sign}</td><td>${degree}</td><td>${house}</td><td>${motion ? 'retro' : 'direct'}</td></tr>`;
        } else if (/^(North Node|South Node|Lilith|Chiron|Fortune|Vertex)/.test(line)) {
          const [_, object, sign, degree, house, motion] = line.match(/^(.*?) in (\w+) ([^,]+), in (\d+).*?(Retrograde)?$/) || [];
          if (object) objectTable.innerHTML += `<tr><td>${object}</td><td>${sign}</td><td>${degree}</td><td>${house}</td><td>${motion ? 'retro' : 'direct'}</td></tr>`;
        } else if (/^\d+.. House in/.test(line)) {
          const [_, house, sign, degree] = line.match(/^(\d+).+ in (\w+) (.+)$/) || [];
          if (house) houseTable.innerHTML += `<tr><td>${house}</td><td>${sign}</td><td>${degree}</td></tr>`;
        } else if (/\(orb:/.test(line)) {
          const [_, aspect, orb, type] = line.match(/^(.+?) \(orb: ([^\)]+)\, (\w+)\)$/) || [];
          if (aspect) aspectTable.innerHTML += `<tr><td>${aspect}</td><td>${orb}</td><td>${type}</td></tr>`;
        }
      });
    }
  </script>
</body>
</html>
